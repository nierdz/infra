# Ip aliases
ip_failover:
  - ip: 5.39.49.16/28
  - ip: 5.39.49.17/28
  - ip: 5.39.49.18/28
  - ip: 5.39.49.19/28
  - ip: 5.39.49.20/28
  - ip: 5.39.49.21/28
  - ip: 5.39.49.22/28
  - ip: 5.39.49.23/28
  - ip: 5.39.49.24/28
  - ip: 5.39.49.25/28
  - ip: 5.39.49.26/28
  - ip: 5.39.49.27/28
  - ip: 5.39.49.28/28
  - ip: 5.39.49.29/28
  - ip: 5.39.49.30/28
  - ip: 5.39.49.31/28

# Certbot
certbot_certs:
  - email: "{{ my_email }}"
    path: "/infra-docker/certbot"
    state: "present"
    post_hook: "pushd /infra-docker && /usr/local/bin/docker-compose -p madrabbit -f /infra-docker/docker-compose-madrabbit.yml restart madrabbit-nginx"
    domains:
      - mad-rabbit.com
      - www.mad-rabbit.com
      - media.mad-rabbit.com
      - static.mad-rabbit.com
      - tenminutestokill.com
      - www.tenminutestokill.com
      - media.tenminutestokill.com
      - static.tenminutestokill.com

  - email: "{{ my_email }}"
    path: "/infra-docker/certbot"
    state: "present"
    post_hook: "pushd /infra-docker && /usr/local/bin/docker-compose -p mnttech -f /infra-docker/docker-compose-mnttech.yml restart mnttech-nginx"
    domains:
      - mnt-tech.fr
      - www.mnt-tech.fr

  - email: "{{ my_email }}"
    path: "/infra-docker/certbot"
    state: "present"
    post_hook: "pushd /infra-docker && /usr/local/bin/docker-compose -p igln -f /infra-docker/docker-compose-igln.yml restart igln"
    domains:
      - igln.fr
      - www.igln.fr

# Crontabs
crontabs:
  mysql backup:
    user: root
    state: present
    job: /usr/local/bin/mysql_backup.sh
    minute: 00
    hour: 1

# Backup/Restore
backup_ftp_host: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30633663343834303430386536666262376332616232613061326337303664333664326534666635
          3862636262373030316462626535356364656137363339330a346565373763303839393762636630
          30653434643366383365386165346137376235636665613265666265646136353736393765633463
          3566643666383935660a313732386338376336346461396462613164373733376362356533663335
          61353434303866356461316333623766616430303830366337326535393530633263
backup_ftp_login: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31373563613530336461623864383138393237306365636339316664356436356435303137653662
          3763323864633061353865613930393464646330313461340a646335626165313762383133333133
          61393334636563626437353765356139646537393630313564656538613437323463386235363430
          6233343133343135660a343830333531313462333638313532356562663932656662316532616137
          63343437303430663330333766383132316563396664623638346130356533376661
backup_ftp_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36356262306165653830666531356164383863346432326233613265633135666135306339393532
          6566303165303664623334653466663363303337316234660a616539623533346132366362626566
          66373632306636316265316331353761333163343337633839353961633064343234326137353563
          3662393461363938350a613233613935623836333837383631633833633339616535386561366538
          3236

# Mysql backup
mysql_backup:
  docker: true
  container: madrabbit-mysql
  time_to_keep: "60"
